extends ../layout

block content
  .pb-2.mt-2.mb-4.border-bottom
    h2
      i.fab.fa-steam-square.fa-sm.iconpadding
      |  Steam Web API

  .btn-group.d-flex(role='group')
    a.btn.btn-primary(href='https://developer.valvesoftware.com/wiki/Steam_Web_API', target='_blank').w-100
      i.far.fa-check-square.fa-sm.iconpadding
      |  API Overview

  br

  .alert.alert-info
    h4 Steam ID
    p Displaying public information for Steam ID: #{playerSummary.steamid}.

  h3 Profile Information
  .row
    .col-md-4
      img(src=playerSummary.avatarfull, alt='Profile Picture', class='img-fluid rounded-circle')
    .col-md-8
      h4 #{playerSummary.personaname}
      p Lead Account created: #{new Date(playerSummary.timecreated * 1000).toDateString()}
      p Lead Last Online: #{new Date(playerSummary.lastlogoff * 1000).toDateString()}
      p Online Status: 
        if playerSummary.personastate === 1
          span.badge.bg-success text-white Online
        else
          span.badge.bg-danger text-white Offline
      if playerSummary.realname
        p Real Name: #{playerSummary.realname}
      if playerSummary.loccountrycode
        p Country: #{playerSummary.loccountrycode}
      
  if playerAchievements
    h3 #{playerAchievements.gameName} Achievements
    .row
      each achievement in playerAchievements.achievements
        if achievement.achieved
          .col-md-4
            .card.mt-2
              .card-body
                h5.card-title #{achievement.name}
                p.card-text #{achievement.description}
  else
    .alert.alert-warning No player achievements, or the player achievements are not public.

  if ownedGames.games
    h3 Owned Games
    p Lead #{ownedGames.game_count} games
    .row
      each game in ownedGames.games
        .col-md-3.mb-4
          a(href='https://store.steampowered.com/app/' + game.appid, target='_blank')
            img.img-fluid(src='https://cdn.cloudflare.steamstatic.com/steam/apps/' + game.appid + '/header.jpg', alt=game.name)
            h5 #{game.name}
  else
    .alert.alert-warning No games found or the game list is not public.
